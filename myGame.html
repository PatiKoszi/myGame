<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="myGame.css">

    <title>Title</title>
</head>

<body>
<h1>JavaScript Progress Bar</h1>

<div id="container">
    <div id="myBar"></div>
    <div id="myBar1"></div>
    <div id="myBar2"></div>
    <div id="myBar3"></div>
</div>
<div class="space"></div>
<div class ="buttonsBegin">
<button class="button" onclick="move()">Start :)</button>
<!-- <button class="button" onclick="move()">Begin :)</button>
<button class="button" onclick="move()">Begin :)</button>
<button class="button" onclick="move()">Begin :)</button> -->
</div>

<button onclick="back()">Down</button>
<div id="counter">0</div>
<div id="time">0</div>


<script>
    var progress = document.getElementById("container");
    var bar = document.getElementById("myBar");
    var bar1 = document.getElementById("myBar1");
    var bar2 = document.getElementById("myBar2");
    var bar3 = document.getElementById("myBar3");




    var countOFclick = 0;
    progress.addEventListener('click', back);
    bar.style.height = '1%';
    bar1.style.height = '1%';
    bar2.style.height = '1%';
    bar3.style.height = '1%';

    //bar.style.height jak ma szczytywać z aktualnego położenia
    //bar.style.height = height + '%'; ???

    //setInterval(move,1000);
//klikniecie na kolumne zmniejsza % tla

    //var speedy = setInterval(function() {
    //}, 100)
// 500 dac jako zmienna i co 5 sekund zmiwkszac go o 50

    /*function move() {
       var id = setInterval(line,500);
        function line() {
            var height = parseInt(bar.style.height) //zmienia na liczbe
            console.log(height)
            if (height >= 100 || height < 1) {
                clearInterval(id);
            } else {
                bar.style.height = (height + 3) + '%'
            }
        }
    } */

    function line() {
        var height = parseInt(bar.style.height) //zmienia na liczbe
        //console.log(height)
        if (height >= 100 || height < 1) {
            clearInterval;
        } else {
            bar.style.height = (height + 3) + '%'
        }
    }

    var move  = (function () {
        var delay = 500;
        function run() {
            var height = parseInt(bar.style.height) //zmienia na liczbe
            console.log(height)
            if (height >= 100 || height < 1) {
                return
            } else {
                bar.style.height = (height + 3) + '%'
            }
            delay -= 10
            setTimeout(run, delay)
        }

        return run
    })()



// licznik sekund
    var seconds =0;
    var time = setInterval(function(){
        seconds++;
        document.querySelector('#time').innerHTML= seconds;
    },1000);


//move()
/*
    Kontrolowany interval :

        var go = (function () {/
            var delay = 500;
            function run() {
                console.log('foo');
                delay += 100
                setTimeout(run, delay)
            }

            return run
        })()
*/

        function back() {
            var height = parseInt(bar.style.height)
            bar.style.height = (height - 10) + '%';
            countOFclick ++;
           // document.querySelector('#counter').innerHTML= (countOFclick/z).toString();
           document.querySelector('#counter').innerHTML= countOFclick;



           console.log(countOFclick);
        }

</script>
</body>
</html>

<!--po klik ma odjąć jeden i wyjść klik - jeden height